<ion-view view-title="Linhas">
    <!--INSERT CSS HERE-->
    <ion-content class="has-header">
        <div class="subMenu">
            <div class="search" ng-click="vm.showFilter = !vm.showFilter">
                <i class="fa fa-search" aria-hidden="true"></i>Pesquisar linhas
            </div>
        </div>

        <div class="subFilter" ng-if="vm.showFilter">
            <input type="tel" size="50" placeholder="Digite o número da linha"
                    ng-model="vm.lineFilter" ng-change="vm.filterLines()"
                    ng-model-options="{debounce: 500}">

            <div class="subFilterClose">
                <i class="fa fa-remove" aria-hidden="true"></i>
            </div>
        </div>

        <div class="filterContainer" ng-show="vm.lineFilter">
             <div class="filterItem" ng-repeat="line in vm.filteredLines" ng-click="vm.addLine(line)">
                <i class="fa fa-check" aria-hidden="true"></i>{{::line}}
            </div>
        </div>

        <div ng-if="!vm.showFilter">
            <div class="item item-divider white">
                Linhas próximas a você:
            </div>

            <div class="filterContainer">
                <div class="filterItem" ng-repeat="line in vm.closeLines" ng-click="vm.addLine(line)">
                    <i class="fa fa-check" aria-hidden="true"></i>{{::line}}
                </div>
            </div>
        </div>
    </ion-content>

    <div class="selectedLines" ng-if="vm.selectedLines.length > 0">
        <span>Linhas selecionadas</span>

        <div class="filterContainer">
            <div class="filterItem selected" ng-repeat="line in vm.selectedLines" ng-click="vm.removeLine(line)">
                {{::line}}<i class="fa fa-remove" aria-hidden="true"></i>
            </div>
        </div>
        
        <div class="btnContainer">
            <button class="btnDefault blueBtn" ng-click="vm.goToMap(vm.selectedLines)">
                Ver linhas no mapa
            </button>
        </div>
    </div>
</ion-view>
